openapi: '3.0.0'

info:
  title: 'Todo APIs'
  version: '1.0.0'

servers:
  - url: http://localhost:3000/api/v1

tags:
  - name: Users
  - name: Tasks

paths:
  /users:
    post:
      summary: Create a User
      tags:
        - Users
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                firstName:
                  type: string
                lastName:
                  type: string
      responses:
        200:
          description: Successful
    get:
      summary: List Users
      tags:
        - Users
      responses:
        200:
          description: Successful

  /users/{id}:
    patch:
      summary: Update a User
      tags:
        - Users
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                firstName:
                  type: string
                lastName:
                  type: string
      responses:
        200:
          description: Successful
    get:
      summary: Get a User
      tags:
        - Users
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Successful
    delete:
      summary: Delete a User
      tags:
        - Users
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Successful

  /tasks:
    post:
      summary: Create a Task
      tags:
        - Tasks
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                priority:
                  type: string
                  enum: ['LOW', 'MEDIUM', 'HIGH', 'CRITICAL']
                assignee:
                  type: string
                  format: uuid
                createdBy:
                  type: string
                  format: uuid
      responses:
        200:
          description: Successful
    get:
      summary: List Tasks
      tags:
        - Tasks
      responses:
        200:
          description: Successful

  /tasks/{id}:
    patch:
      summary: Update a Task
      tags:
        - Tasks
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                status:
                  type: string
                  enum: ['TO_DO', 'IN_PROGRESS', 'IN_REVIEW', 'DONE']
                priority:
                  type: string
                  enum: ['LOW', 'MEDIUM', 'HIGH', 'CRITICAL']
                assignee:
                  type: string
                  format: uuid
      responses:
        200:
          description: Successful
    get:
      summary: Get a Task
      tags:
        - Tasks
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Successful
    delete:
      summary: Delete a Task
      tags:
        - Tasks
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Successful
